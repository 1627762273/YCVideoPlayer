# 06.播放器UI抽取封装
#### 目录介绍
- 01.视频播放器UI封装需求
- 02.播放器UI架构图
- 03.如何分离播放和UI分离
- 04.VideoPlayer如何实现
- 05.VideoController实现
- 06.播放Player和UI通信
- 07.如何添加自定义播放视图



### 01.视频播放器UI封装需求
- 播放器内核和UI层耦合
    - 也就是说视频player和ui操作柔和到了一起，尤其是两者之间的交互。比如播放中需要更新UI进度条，播放异常需要显示异常UI，都比较难处理播放器状态变化更新UI操作
- UI难以自定义或者修改麻烦
    - 比如常见的视频播放器，会把视频各种视图写到xml中，这种方式在后期代码会很大，而且改动一个小的布局，则会影响大。这样到后期往往只敢加代码，而不敢删除代码……
    - 有时候难以适应新的场景，比如添加一个播放广告，老师开课，或者视频引导业务需求，则需要到播放器中写一堆业务代码。迭代到后期，违背了开闭原则，视频播放器需要做到和业务分离
- 视频播放器结构不清晰
    - 这个是指该视频播放器能否看了文档后快速上手，知道封装的大概流程。方便后期他人修改和维护，因此需要将视频播放器功能分离。比如切换内核+视频播放器(player+controller+view)
- 一定要解耦合
    - 播放器player与视频UI解耦：支持添加自定义视频视图，比如支持添加自定义广告，新手引导，或者视频播放异常等视图，这个需要较强的拓展性
- 适合多种业务场景
    - 比如适合播放单个视频，多个视频，以及列表视频，或者类似抖音那种一个页面一个视频，还有小窗口播放视频。也就是适合大多数业务场景



### 02.播放器UI架构图



### 03.如何分离播放和UI分离
- 



### 04.VideoPlayer如何实现


### 05.VideoController实现



### 06.播放Player和UI通信



### 07.如何添加自定义播放视图



































